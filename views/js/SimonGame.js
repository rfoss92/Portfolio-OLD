"use strict";var flashInterval,compInterval,colorArray=["green","red","yellow","blue"],randomColorArray=[],playerArray=[],counter=1,playerCorrect=!0,strictOn=1,current=0;function strict(){1===strictOn?(strictOn*=-1,$("h1").html("STRICT")):(strictOn*=-1,$("h1").html("SIMON")),reset()}function reset(){randomColorArray=[],playerArray=[],counter=1,$("#counter").html(counter),playerCorrect=!0,$("#start").prop("disabled",!1)}function start(){if(!0===playerCorrect){var r=colorArray[Math.floor(Math.random()*colorArray.length)];randomColorArray.push(r)}var e=0;!function r(){setTimeout(function(){!function(){$("#counter").html(counter),clearInterval(flashInterval),clearInterval(compInterval);var r=document.getElementById(randomColorArray[e]);r.style.background=randomColorArray[e],document.getElementById("beep"+colorArray.indexOf(randomColorArray[e])).play(),compInterval=setInterval(function(){r.style.background=""},500)}(),++e<randomColorArray.length&&r()},1e3)}(),$("#start").prop("disabled",!0),$("#green").prop("disabled",!1),$("#red").prop("disabled",!1),$("#yellow").prop("disabled",!1),$("#blue").prop("disabled",!1)}function yourMove(r){clearInterval(flashInterval),clearInterval(compInterval);var e=document.getElementById(r);e.style.background=r,document.getElementById("beep"+colorArray.indexOf(r)).play(),flashInterval=setInterval(function(){e.style.background=""},250),playerArray.push(r),playerArray[current]!==randomColorArray[current]?($("#counter").html("WRONG!"),current=0,playerCorrect=!(playerArray=[]),-1===strictOn?reset():console.log(randomColorArray),start()):20===playerArray.length?(alert("YOU WIN!"),reset()):(current+=1,playerArray.length===randomColorArray.length&&(current=0,playerArray=[],counter+=1,$("#counter").html(counter),playerCorrect=!0,start()))}$("#colorButtons button").click(function(){yourMove(this.id)}),$("#green").prop("disabled",!0),$("#red").prop("disabled",!0),$("#yellow").prop("disabled",!0),$("#blue").prop("disabled",!0),$("#strict").click(strict),$("#reset").click(reset),$("#start").click(start);